{"version":3,"sources":["classes/BoardCell.js","classes/BoardPiece.js","components/InvitePlayer/InvitePlayer.jsx","components/Board/Board.jsx","components/GameGenerator/GameGenerator.jsx","App.js","serviceWorker.js","index.js"],"names":["BoardCell","row","col","piece","this","BoardPiece","player","isKing","InvitePlayer","document","getElementById","select","execCommand","className","Modal","centered","show","Header","Title","Body","InputGroup","FormControl","id","value","window","location","readOnly","Append","onClick","copyToClipboard","Text","Footer","PropTypes","any","React","Component","withRouter","Board","props","board","i","push","j","state","targets","pieceToMove","isMyTurn","inJumpChain","hasBothPlayers","ENDPOINT","process","console","log","socket","io","on","setState","val","cell","movePiece","emit","pathname","newBoard","createBoardFromObject","error","forEach","r","c","getMoveTargets","res","getPossibleTargets","adj","hasPiece","jumpTarget","canJumpOver","canMoveTo","pieceToJump","includes","endTurn","isJump","Math","abs","jumpRow","jumpCol","target","length","dir","map","rowId","key","colId","canHavePiece","handleCellClick","showMoveTargets","icon","chessQueen","GameGenerator","gameURL","url","random","toString","substring","open","REACT_APP_BASE_URL","Button","createGame","App","basename","path","exact","component","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"gRAAqBA,E,WACjB,WAAYC,EAAKC,GAAoB,IAAfC,EAAc,uDAAN,KAAM,oBAChCC,KAAKH,IAAMA,EACXG,KAAKF,IAAMA,EACXE,KAAKD,MAAQA,E,2DAIb,OAAQC,KAAKH,IAAMG,KAAKF,KAAO,IAAM,I,iCAIrC,OAAsB,OAAfE,KAAKD,U,KCZCE,EACjB,WAAYC,EAAQL,EAAKC,GAAsB,IAAjBK,EAAgB,4EAC1CH,KAAKE,OAASA,EACdF,KAAKH,IAAMA,EACXG,KAAKF,IAAMA,EACXE,KAAKG,OAASA,G,wCCGhBC,E,kLASEC,SAASC,eAAe,OAAOC,W,wCAI/BF,SAASC,eAAe,OAAOC,SAC/BF,SAASG,YAAY,U,+BAIrB,OACI,yBAAKC,UAAU,gBACX,kBAACC,EAAA,EAAD,CAAOC,UAAQ,EAACC,MAAM,GAClB,kBAACF,EAAA,EAAMG,OAAP,KACI,kBAACH,EAAA,EAAMI,MAAP,0BAEJ,kBAACJ,EAAA,EAAMK,KAAP,KACI,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CACIC,GAAG,MACHC,MAAOC,OAAOC,SACdC,UAAQ,IAEZ,kBAACN,EAAA,EAAWO,OAAZ,CAAmBL,GAAG,WAAWM,QAASxB,KAAKyB,iBAC3C,kBAACT,EAAA,EAAWU,KAAZ,gBAIZ,kBAAChB,EAAA,EAAMiB,OAAP,CAAcT,GAAG,gBACb,wF,iCAnChB,MAAO,CACHG,SAAUO,IAAUC,S,GAHLC,IAAMC,WA6ClBC,cAAW5B,G,yBC/BL6B,G,yDAMjB,WAAYC,GAAQ,IAAD,sBACf,cAAMA,GAGN,IADA,IAAIC,EAAQ,GACHC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxBD,EAAME,KAAK,IACX,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,KACdF,EAAIE,GAAK,IAAM,EACZF,EAAI,EACJD,EAAMC,GAAGC,KAAK,IAAIzC,EAAUwC,EAAGE,EAAG,IAAIrC,EAAW,EAAGmC,EAAGE,KAChDF,GAAK,EACZD,EAAMC,GAAGC,KAAK,IAAIzC,EAAUwC,EAAGE,EAAG,IAAIrC,EAAW,EAAGmC,EAAGE,KAEvDH,EAAMC,GAAGC,KAAK,IAAIzC,EAAUwC,EAAGE,IAGnCH,EAAMC,GAAGC,KAAK,IAAIzC,EAAUwC,EAAGE,IAhB5B,OAoBf,EAAKC,MAAQ,CACTJ,MAAOA,EACPK,QAAS,GACTC,YAAa,KACbvC,OAAQ,KACRwC,UAAU,EACVC,aAAa,EACbC,gBAAgB,GA3BL,E,2DAJf,MAAO,CACHvB,SAAUO,IAAUC,S,yDAkCP,IAAD,OACVgB,EAAWC,yCACjBC,QAAQC,IAAIH,GACZ7C,KAAKiD,OAASC,IAAGL,GAEjB7C,KAAKiD,OAAOE,GAAG,iBAAiB,SAACjD,GAC7B,EAAKkD,SAAS,CACVlD,OAAQA,OAGhBF,KAAKiD,OAAOE,GAAG,oBAAoB,SAACE,GAChCN,QAAQC,IAAIK,GACZ,EAAKD,SAAS,CAACR,eAAgBS,OAEnCrD,KAAKiD,OAAOE,GAAG,QAAQ,SAACG,EAAMvD,GAC1B,EAAKwD,UAAUxD,EAAOuD,MAG1BtD,KAAKiD,OAAOE,GAAG,WAAW,WACtB,EAAKC,SAAS,CACVV,UAAU,OAGlB1C,KAAKiD,OAAOE,GAAG,cAAc,WACzB,EAAKF,OAAOO,KAAK,YAAa,EAAKtB,MAAMb,SAASoC,aAEtDzD,KAAKiD,OAAOE,GAAG,eAAe,SAAChB,GAC3B,IAAIuB,EAAW,EAAKC,sBAAsBxB,GAC1C,EAAKiB,SAAS,CACVjB,MAAOuB,OAGf1D,KAAKiD,OAAOE,GAAG,OAAO,SAACS,GACnBb,QAAQC,IAAIY,Q,4CAKEzB,GAUlB,OATAA,EAAM0B,SAAQ,SAAChE,EAAKiE,GAChBjE,EAAIgE,SAAQ,SAACP,EAAMS,GACf,IAAIhE,EAAQoC,EAAM2B,GAAGC,GAAGhE,MACV,OAAVA,IACAA,EAAQ,IAAIE,EAAWF,EAAMG,OAAQH,EAAMF,IAAKE,EAAMD,IAAKC,EAAMI,SAErEgC,EAAM2B,GAAGC,GAAK,IAAInE,EAAUkE,EAAGC,EAAGhE,SAGnCoC,I,sCAGKpC,GACRC,KAAKuC,MAAMG,WAAa1C,KAAKuC,MAAMI,aAAe5C,EAAMG,SAAWF,KAAKuC,MAAMrC,QAC9EF,KAAKoD,SAAS,CACVZ,QAASxC,KAAKgE,eAAejE,EAAMF,IAAKE,EAAMD,KAC9C2C,YAAa1C,M,qCAMVF,EAAKC,GAAM,IAAD,OAEfC,EADQC,KAAKuC,MAAMJ,MACLtC,GAAKC,GAAKC,MAE1BkE,EAAM,GAcV,OAZAjE,KAAKkE,mBAAmBnE,GAAO8D,SAAQ,SAAAM,GACnC,GAAIA,EAAIC,WAAY,CAChB,IAAMC,EAAa,EAAKC,YAAYvE,EAAOoE,EAAIpE,OAC5B,OAAfsE,GACAJ,EAAI5B,KAAKgC,QAGT,EAAKE,UAAUxE,EAAOoE,IACtBF,EAAI5B,KAAK8B,MAIdF,I,gCAGDlE,EAAOuD,GACb,SAAKvD,EAAMI,SAGe,IAAjBJ,EAAMG,QAAgBoD,EAAKzD,IAAME,EAAMF,KAA0B,IAAjBE,EAAMG,QAAgBoD,EAAKzD,IAAME,EAAMF,QAI3FyD,EAAKc,a,kCAYF3B,EAAa+B,GACrB,GAAI/B,EAAYvC,SAAWsE,EAAYtE,OACnC,OAAO,EAEX,IAAMiC,EAAQnC,KAAKuC,MAAMJ,MACnBtC,EAAM,GAAK2E,EAAY3E,IAAM4C,EAAY5C,KAAO4C,EAAY5C,IAC5DC,EAAM,GAAK0E,EAAY1E,IAAM2C,EAAY3C,KAAO2C,EAAY3C,IAElE,OAAID,GAAO,GAAKC,GAAO,GAAKD,EAAM,GAAKC,EAAM,IAAMqC,EAAMtC,GAAKC,GAAKsE,YACxDjC,EAAMtC,GAAKC,K,sCAMVwD,GACPtD,KAAKuC,MAAMC,QAAQiC,SAASnB,KAGjCtD,KAAKiD,OAAOO,KAAK,OAAQF,EAAMtD,KAAKuC,MAAME,aACrCzC,KAAKuD,UAAUvD,KAAKuC,MAAME,YAAaa,IACxCtD,KAAK0E,a,gCAWH3E,EAAOuD,GAAO,IAAD,OACfnB,EAAQnC,KAAKuC,MAAMJ,MACnBwC,GAAS,EAGb,GAAuC,IAAnCC,KAAKC,IAAI9E,EAAMF,IAAMyD,EAAKzD,KAAY,CACtC,IAAMiF,GAAW/E,EAAMF,IAAMyD,EAAKzD,KAAO,EACnCkF,GAAWhF,EAAMD,IAAMwD,EAAKxD,KAAO,EACzCqC,EAAM2C,GAASC,GAAShF,MAAQ,KAC5BA,EAAMG,SAAWF,KAAKuC,MAAMrC,SAC5ByE,GAAS,GAoBjB,GAhBAxC,EAAMpC,EAAMF,KAAKE,EAAMD,KAAKC,MAAQ,KACpCA,EAAMF,IAAMyD,EAAKzD,IACjBE,EAAMD,IAAMwD,EAAKxD,IACZC,EAAMI,QAAyB,IAAdJ,EAAMF,KAA2B,IAAdE,EAAMF,MAC3CE,EAAMI,QAAS,GAEnBgC,EAAMmB,EAAKzD,KAAKyD,EAAKxD,KAAKC,MAAQA,EAClCC,KAAKoD,SAAS,CACVZ,QAAS,GACTC,YAAa,KACbN,MAAOA,EACPQ,aAAa,IAGjB3C,KAAKiD,OAAOO,KAAK,cAAerB,GAE5BwC,EAAQ,CAER,IAAInC,EAAU,GASd,GARAxC,KAAKkE,mBAAmBnE,GAAO8D,SAAQ,SAAAM,GACnC,GAAIA,EAAIC,WAAY,CAChB,IAAIY,EAAS,EAAKV,YAAYvE,EAAOoE,EAAIpE,OACrCiF,GACAxC,EAAQH,KAAK2C,OAIrBxC,EAAQyC,OAAS,EAMjB,OALAjF,KAAKoD,SAAS,CACVT,aAAa,EACbF,YAAa1C,EACbyC,QAASA,KAEN,EAIf,OAAO,I,gCAIPxC,KAAKiD,OAAOO,KAAK,WACjBxD,KAAKoD,SAAS,CACVV,UAAU,M,yCASC3C,GAAQ,IAAD,OAClBoE,EAAM,GAoBV,MAnBmB,CACf,CAAC,EAAG,GACJ,EAAE,EAAG,GACL,CAAC,GAAI,GACL,EAAE,GAAI,IAGCN,SAAQ,SAAAqB,GAEf,GAAKnF,EAAMI,UAA6B,IAAjBJ,EAAMG,QAA2B,IAAXgF,EAAI,IAA+B,IAAjBnF,EAAMG,SAA4B,IAAZgF,EAAI,IAAzF,CAGA,IAAMrF,EAAME,EAAMF,IAAMqF,EAAI,GACtBpF,EAAMC,EAAMD,IAAMoF,EAAI,GACxBrF,GAAO,GAAKC,GAAO,GAAKD,EAAM,GAAKC,EAAM,GACzCqE,EAAI9B,KAAK,EAAKE,MAAMJ,MAAMtC,GAAKC,QAIhCqE,I,+BAGD,IAAD,OACL,OACI,yBAAK1D,UAAU,UACTT,KAAKuC,MAAMK,gBAAkB,kBAAC,EAAD,MAC9B5C,KAAKuC,MAAMJ,MAAMgD,KAAI,SAACtF,EAAKuF,GAAN,OAClB,yBAAK3E,UAAU,MAAM4E,IAAKD,GACrBvF,EAAIsF,KAAI,SAAC7B,EAAMgC,GAAP,OACL,yBACI7E,UAAS,eAAU6C,EAAKiC,eAAiB,WAAa,IACtDF,IAAKC,EACL9D,QAAS,kBAAM,EAAKgE,gBAAgBlC,KAEnCA,EAAKc,YACF,yBACI3D,UAAS,sBAAiB6C,EAAKvD,MAAMG,QACrCsB,QAAS,kBAAM,EAAKiE,gBAAgBnC,EAAKvD,MAAOqF,EAAOE,KAEtDhC,EAAKvD,MAAMI,QAAU,kBAAC,OAAD,CAAMuF,KAAMC,IAAYlF,UAAU,UAG/D,EAAK8B,MAAMC,QAAQiC,SAASnB,IAAS,yBAAK7C,UAAU,+B,GAzRlDqB,IAAMC,Y,QCjBpB6D,G,yDACjB,WAAY1D,GAAQ,IAAD,8BACf,cAAMA,IAEDK,MAAQ,CACTsD,QAAS,MAJE,E,yDASf,IAAMC,EAAMlB,KAAKmB,SAASC,SAAS,IAAIC,UAAU,EAAG,IAAMrB,KAAKmB,SAASC,SAAS,IAAIC,UAAU,EAAG,IAElGjG,KAAKoD,SAAS,CACVyC,QAASC,IAGb1E,OAAO8E,KAAKpD,4LAAYqD,mBAAqB,SAAWL,EAAK,W,+BAIvD,IAAD,OACL,OACI,yBAAKrF,UAAU,iBACX,kBAAC2F,EAAA,EAAD,CAAQ5E,QAAS,kBAAM,EAAK6E,eAA5B,+B,GAvB2BvE,IAAMC,Y,QCgBlCuE,G,OAXH,WACR,OACI,kBAAC,IAAD,CAAQC,SAAUzD,4LAAYqD,oBAC1B,kBAAC,IAAD,CAAOK,KAAK,IAAIC,OAAK,EAACC,UAAWd,IACjC,kBAAC,IAAD,CAAOY,KAAK,YAAYC,OAAK,EAACC,UAAWzE,IACzC,kBAAC,IAAD,CAAOuE,KAAK,QAAQC,OAAK,EAACC,UAAWtG,OCH7BuG,QACW,cAA7BvF,OAAOC,SAASuF,UAEe,UAA7BxF,OAAOC,SAASuF,UAEhBxF,OAAOC,SAASuF,SAASC,MACvB,2DCbNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEF3G,SAASC,eAAe,SD0HpB,kBAAmB2G,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA3D,GACLb,QAAQa,MAAMA,EAAM4D,a","file":"static/js/main.9f45cdb8.chunk.js","sourcesContent":["export default class BoardCell {\n    constructor(row, col, piece = null) {\n        this.row = row;\n        this.col = col;\n        this.piece = piece;\n    }\n\n    canHavePiece() {\n        return (this.row + this.col) % 2 === 1;\n    }\n\n    hasPiece() {\n        return this.piece !== null;\n    }\n}","export default class BoardPiece {\n    constructor(player, row, col, isKing = false) {\n        this.player = player;\n        this.row = row;\n        this.col = col;\n        this.isKing = isKing;\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './InvitePlayer.scss';\nimport Modal from 'react-bootstrap/Modal';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport { withRouter } from 'react-router-dom';\n\nclass InvitePlayer extends React.Component {\n    static get propTypes() {\n        return {\n            location: PropTypes.any\n        };\n    }\n\n    componentDidMount() {\n        // Highlight the text box\n        document.getElementById('url').select();\n    }\n\n    copyToClipboard() {\n        document.getElementById('url').select();\n        document.execCommand('copy');\n    }\n\n    render() {\n        return (\n            <div className='invitePlayer'>\n                <Modal centered show={true}>\n                    <Modal.Header>\n                        <Modal.Title>Invite a friend!</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <InputGroup>\n                            <FormControl\n                                id=\"url\"\n                                value={window.location}\n                                readOnly\n                            />\n                            <InputGroup.Append id=\"copy-btn\" onClick={this.copyToClipboard}>\n                                <InputGroup.Text>Copy</InputGroup.Text>\n                            </InputGroup.Append>\n                        </InputGroup>\n                    </Modal.Body>\n                    <Modal.Footer id=\"modal-footer\">\n                        <p>The game will start once another player has joined.</p>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(InvitePlayer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport io from 'socket.io-client';\n\nimport BoardCell from '../../classes/BoardCell';\nimport BoardPiece from '../../classes/BoardPiece';\nimport InvitePlayer from \"../InvitePlayer/InvitePlayer\";\n\nimport { Icon } from '@iconify/react';\nimport chessQueen from '@iconify/icons-mdi/chess-queen';\nimport './Board.scss';\n\n\n\n//TODO: \n// Add logic for ending turn in jump chain\n// Add visuals to display whose turn it is\n// Winning/tie conditions\n// Add error handling for if a user joins a game that is full\n// Add dragging for pieces\n// Make API secure\n\nexport default class Board extends React.Component {\n    static get propTypes() {\n        return {\n            location: PropTypes.any\n        };\n    }\n    constructor(props) {\n        super(props);\n\n        let board = [];\n        for (let i = 0; i < 8; i++) {\n            board.push([]);\n            for (let j = 0; j < 8; j++) {\n                if ((i + j) % 2 === 1) {\n                    if (i < 3) {\n                        board[i].push(new BoardCell(i, j, new BoardPiece(2, i, j)));\n                    } else if (i >= 5) {\n                        board[i].push(new BoardCell(i, j, new BoardPiece(1, i, j)));\n                    } else {\n                        board[i].push(new BoardCell(i, j));\n                    }\n                } else {\n                    board[i].push(new BoardCell(i, j));\n                }\n            }\n        }\n        this.state = {\n            board: board,\n            targets: [],\n            pieceToMove: null,\n            player: null,\n            isMyTurn: false,\n            inJumpChain: false,\n            hasBothPlayers: false\n        };\n    }\n\n    componentDidMount() {\n        const ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\n        console.log(ENDPOINT);\n        this.socket = io(ENDPOINT);\n        \n        this.socket.on('player-number', (player) => {\n            this.setState({\n                player: player\n            });\n        });\n        this.socket.on('has-both-players', (val) => {\n            console.log(val);\n            this.setState({hasBothPlayers: val});\n        });\n        this.socket.on('move', (cell, piece) => {\n            this.movePiece(piece, cell);\n        });\n\n        this.socket.on('endturn', () => {\n            this.setState({\n                isMyTurn: true\n            });\n        });\n        this.socket.on('connection', () => {\n            this.socket.emit('join-room', this.props.location.pathname);\n        });\n        this.socket.on('boardConfig', (board) => {\n            let newBoard = this.createBoardFromObject(board);\n            this.setState({\n                board: newBoard\n            });\n        });\n        this.socket.on('err', (error) => {\n            console.log(error);\n        });\n    }\n\n    // Creates a new board from the object passed in from the server\n    createBoardFromObject(board) {\n        board.forEach((row, r) => {\n            row.forEach((cell, c) => {\n                let piece = board[r][c].piece;\n                if (piece !== null) {\n                    piece = new BoardPiece(piece.player, piece.row, piece.col, piece.isKing);\n                }\n                board[r][c] = new BoardCell(r, c, piece);\n            });\n        });\n        return board;\n    }\n\n    showMoveTargets(piece) {\n        if (this.state.isMyTurn && !this.state.inJumpChain && piece.player === this.state.player) {\n            this.setState({\n                targets: this.getMoveTargets(piece.row, piece.col),\n                pieceToMove: piece\n            });  \n        }\n    }\n\n    // Returns an array of cells\n    getMoveTargets(row, col) {\n        const board = this.state.board;\n        const piece = board[row][col].piece;\n\n        let res = [];\n\n        this.getPossibleTargets(piece).forEach(adj => {\n            if (adj.hasPiece()) {\n                const jumpTarget = this.canJumpOver(piece, adj.piece);\n                if (jumpTarget !== null) {\n                    res.push(jumpTarget);\n                }\n            } else {\n                if (this.canMoveTo(piece, adj)) {\n                    res.push(adj);\n                }\n            }\n        });\n        return res;\n    }\n\n    canMoveTo(piece, cell) {\n        if (!piece.isKing) {\n            // Player 1 cannot move down\n            // Player 2 cannot move up\n            if ((piece.player === 1 && cell.row > piece.row) || (piece.player === 2 && cell.row < piece.row)) {\n                return false;\n            }\n        }\n        if (!cell.hasPiece()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Returns the target cell if the pieceToJump can be jumped, otherwise returns false.\n     *\n     * @param BoardPiece pieceToMove\n     * @param BoardPiece pieceToJump\n     */\n    canJumpOver(pieceToMove, pieceToJump) {\n        if (pieceToMove.player === pieceToJump.player) {\n            return false;\n        }\n        const board = this.state.board;\n        const row = 2 * (pieceToJump.row - pieceToMove.row) + pieceToMove.row;\n        const col = 2 * (pieceToJump.col - pieceToMove.col) + pieceToMove.col;\n\n        if (row >= 0 && col >= 0 && row < 8 && col < 8 && !board[row][col].hasPiece()) {\n            return board[row][col];\n        }\n\n        return false;\n    }\n\n    handleCellClick(cell) {\n        if (!this.state.targets.includes(cell)) {\n            return;\n        }\n        this.socket.emit('move', cell, this.state.pieceToMove);\n        if (!this.movePiece(this.state.pieceToMove, cell)) {\n            this.endTurn();\n        }\n    }\n\n    /**\n     * Moves a piece on the board.\n     *\n     * @param BoardPiece piece\n     * @param BoardCell cell\n     *\n     */\n    movePiece(piece, cell) {\n        let board = this.state.board;\n        let isJump = false;\n\n        // Handle the case where we are jumping a piece\n        if (Math.abs(piece.row - cell.row) === 2) {\n            const jumpRow = (piece.row + cell.row) / 2;\n            const jumpCol = (piece.col + cell.col) / 2;\n            board[jumpRow][jumpCol].piece = null;\n            if (piece.player === this.state.player) {\n                isJump = true;\n            }\n        }\n\n        board[piece.row][piece.col].piece = null;\n        piece.row = cell.row;\n        piece.col = cell.col;\n        if (!piece.isKing && (piece.row === 0 || piece.row === 7)) {\n            piece.isKing = true;\n        }\n        board[cell.row][cell.col].piece = piece;\n        this.setState({\n            targets: [],\n            pieceToMove: null,\n            board: board,\n            inJumpChain: false\n        });\n\n        this.socket.emit('boardConfig', board);\n\n        if (isJump) {\n            //Check if another piece can be jumped\n            let targets = [];\n            this.getPossibleTargets(piece).forEach(adj => {\n                if (adj.hasPiece()) {\n                    let target = this.canJumpOver(piece, adj.piece);\n                    if (target) {\n                        targets.push(target);\n                    }\n                }\n            });\n            if (targets.length > 0) {\n                this.setState({\n                    inJumpChain: true,\n                    pieceToMove: piece,\n                    targets: targets\n                });\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    endTurn() {\n        this.socket.emit('endturn');\n        this.setState({\n            isMyTurn: false\n        });\n    }\n\n    /**\n     * Returns an array of diagnolly adjacent cells.\n     *\n     * @param BoardPiece piece\n     */\n    getPossibleTargets(piece) {\n        let adj = [];\n        const directions = [\n            [1, 1],\n            [-1, 1],\n            [1, -1],\n            [-1, -1]\n        ];\n\n        directions.forEach(dir => {\n            // For non-king pieces: player 1 cannot move down, and player 2 cannot move up\n            if (!piece.isKing && ((piece.player === 1 && dir[0] === 1) || (piece.player === 2 && dir[0] === -1))) {\n                return;\n            }\n            const row = piece.row + dir[0];\n            const col = piece.col + dir[1];\n            if (row >= 0 && col >= 0 && row < 8 && col < 8) {\n                adj.push(this.state.board[row][col]);\n            }\n        });\n\n        return adj;\n    }\n\n    render() {\n        return (\n            <div className='board'>\n                {!this.state.hasBothPlayers && <InvitePlayer />} \n                {this.state.board.map((row, rowId) => (\n                    <div className='row' key={rowId}>\n                        {row.map((cell, colId) => (\n                            <div\n                                className={`cell ${cell.canHavePiece() ? 'moveable' : ''}`}\n                                key={colId}\n                                onClick={() => this.handleCellClick(cell)}\n                            >\n                                {cell.hasPiece() && (\n                                    <div\n                                        className={`piece player${cell.piece.player}`}\n                                        onClick={() => this.showMoveTargets(cell.piece, rowId, colId)}\n                                    >\n                                        {cell.piece.isKing && <Icon icon={chessQueen} className='king' />}\n                                    </div>\n                                )}\n                                {this.state.targets.includes(cell) && <div className='target-marker'></div>}\n                            </div>\n                        ))}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport \"./GameGenerator.scss\";\n\n\nexport default class GameGenerator extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            gameURL: null\n        };\n    }\n\n    createGame() {\n        const url = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n\n        this.setState({\n            gameURL: url\n        });\n\n        window.open(process.env.REACT_APP_BASE_URL + \"/game/\" + url, \"_self\");\n    }\n\n\n    render() {\n        return (\n            <div className=\"gameGenerator\">\n                <Button onClick={() => this.createGame()}>Click to start a game!</Button> \n            </div>\n        );\n    }\n}","import React from 'react';\n\nimport Board from './components/Board/Board';\nimport GameGenerator from './components/GameGenerator/GameGenerator';\nimport InvitePlayer from './components/InvitePlayer/InvitePlayer';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport './App.scss';\n\nconst App = () => {\n    return (\n        <Router basename={process.env.REACT_APP_BASE_URL}>\n            <Route path='/' exact component={GameGenerator} />\n            <Route path='/game/:id' exact component={Board} />\n            <Route path='/test' exact component={InvitePlayer} />\n            \n        </Router>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}