{"version":3,"sources":["classes/BoardCell.js","classes/BoardPiece.js","components/InvitePlayer/InvitePlayer.jsx","components/TurnVisual/TurnVisual.jsx","components/Board/Board.jsx","components/GameGenerator/GameGenerator.jsx","App.js","serviceWorker.js","index.js"],"names":["BoardCell","row","col","piece","this","BoardPiece","player","isKing","InvitePlayer","document","getElementById","select","execCommand","className","Modal","centered","show","Header","Title","Body","InputGroup","FormControl","id","value","window","location","readOnly","Append","onClick","copyToClipboard","Text","Footer","PropTypes","any","React","Component","withRouter","TurnVisual","props","whoseTurn","Board","board","i","push","j","state","targets","pieceToMove","isMyTurn","inJumpChain","hasBothPlayers","socket","io","process","on","setState","val","cell","movePiece","emit","pathname","newBoard","createBoardFromObject","error","console","log","forEach","r","c","getMoveTargets","res","getPossibleTargets","adj","hasPiece","jumpTarget","canJumpOver","canMoveTo","pieceToJump","includes","endTurn","isJump","Math","abs","jumpRow","jumpCol","target","length","dir","map","rowId","key","colId","canHavePiece","handleCellClick","showMoveTargets","icon","chessQueen","GameGenerator","gameURL","url","random","toString","substring","open","Button","createGame","App","basename","path","exact","component","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c2f1163e.chunk.js","sourcesContent":["export default class BoardCell {\n    constructor(row, col, piece = null) {\n        this.row = row;\n        this.col = col;\n        this.piece = piece;\n    }\n\n    canHavePiece() {\n        return (this.row + this.col) % 2 === 1;\n    }\n\n    hasPiece() {\n        return this.piece !== null;\n    }\n}","export default class BoardPiece {\n    constructor(player, row, col, isKing = false) {\n        this.player = player;\n        this.row = row;\n        this.col = col;\n        this.isKing = isKing;\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './InvitePlayer.scss';\nimport Modal from 'react-bootstrap/Modal';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport { withRouter } from 'react-router-dom';\n\nclass InvitePlayer extends React.Component {\n    static get propTypes() {\n        return {\n            location: PropTypes.any\n        };\n    }\n\n    componentDidMount() {\n        // Highlight the text box\n        document.getElementById('url').select();\n    }\n\n    copyToClipboard() {\n        document.getElementById('url').select();\n        document.execCommand('copy');\n    }\n\n    render() {\n        return (\n            <div className='invitePlayer'>\n                <Modal centered show={true}>\n                    <Modal.Header>\n                        <Modal.Title>Invite a friend!</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <InputGroup>\n                            <FormControl\n                                id=\"url\"\n                                value={window.location}\n                                readOnly\n                            />\n                            <InputGroup.Append id=\"copy-btn\" onClick={this.copyToClipboard}>\n                                <InputGroup.Text>Copy</InputGroup.Text>\n                            </InputGroup.Append>\n                        </InputGroup>\n                    </Modal.Body>\n                    <Modal.Footer id=\"modal-footer\">\n                        <p>The game will start once another player has joined.</p>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(InvitePlayer);\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport './TurnVisual.scss';\n\nexport default function TurnVisual(props) {\n    return (\n        <div className='turnContainer'>\n            <div className='turns'>\n                <h1>{props.whoseTurn === 1 && <span className='active'></span>}Player 1</h1>\n                <h1>{props.whoseTurn === 2 && <span className='active'></span>}Player 2</h1>\n            </div>\n        </div>\n    );\n}\n\nTurnVisual.propTypes = {\n    whoseTurn: PropTypes.number.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport io from 'socket.io-client';\n\nimport BoardCell from '../../classes/BoardCell';\nimport BoardPiece from '../../classes/BoardPiece';\nimport InvitePlayer from '../InvitePlayer/InvitePlayer';\nimport TurnVisual from '../TurnVisual/TurnVisual';\n\nimport { Icon } from '@iconify/react';\nimport chessQueen from '@iconify/icons-mdi/chess-queen';\nimport './Board.scss';\n\n//TODO:\n// Add logic for ending turn in jump chain\n// Add visuals to display whose turn it is\n// Winning/tie conditions\n// Add error handling for if a user joins a game that is full\n// Add dragging for pieces\n// Make API secure\n\nexport default class Board extends React.Component {\n    static get propTypes() {\n        return {\n            location: PropTypes.any\n        };\n    }\n    constructor(props) {\n        super(props);\n\n        let board = [];\n        for (let i = 0; i < 8; i++) {\n            board.push([]);\n            for (let j = 0; j < 8; j++) {\n                if ((i + j) % 2 === 1) {\n                    if (i < 3) {\n                        board[i].push(new BoardCell(i, j, new BoardPiece(2, i, j)));\n                    } else if (i >= 5) {\n                        board[i].push(new BoardCell(i, j, new BoardPiece(1, i, j)));\n                    } else {\n                        board[i].push(new BoardCell(i, j));\n                    }\n                } else {\n                    board[i].push(new BoardCell(i, j));\n                }\n            }\n        }\n        this.state = {\n            board: board,\n            targets: [],\n            pieceToMove: null,\n            player: null,\n            isMyTurn: false,\n            inJumpChain: false,\n            hasBothPlayers: false\n        };\n    }\n\n    componentDidMount() {\n        const ENDPOINT = process.env.REACT_APP_API_ENDPOINT;\n        this.socket = io(ENDPOINT);\n\n        this.socket.on('player-number', player => {\n            this.setState({\n                player: player\n            });\n        });\n        this.socket.on('has-both-players', val => {\n            this.setState({ hasBothPlayers: val });\n        });\n        this.socket.on('move', (cell, piece) => {\n            this.movePiece(piece, cell);\n        });\n\n        this.socket.on('endturn', () => {\n            this.setState({\n                isMyTurn: true\n            });\n        });\n        this.socket.on('connection', () => {\n            this.socket.emit('join-room', this.props.location.pathname);\n        });\n        this.socket.on('boardConfig', board => {\n            let newBoard = this.createBoardFromObject(board);\n            this.setState({\n                board: newBoard\n            });\n        });\n        this.socket.on('err', error => {\n            console.log(error);\n        });\n    }\n\n    // Creates a new board from the object passed in from the server\n    createBoardFromObject(board) {\n        board.forEach((row, r) => {\n            row.forEach((cell, c) => {\n                let piece = board[r][c].piece;\n                if (piece !== null) {\n                    piece = new BoardPiece(piece.player, piece.row, piece.col, piece.isKing);\n                }\n                board[r][c] = new BoardCell(r, c, piece);\n            });\n        });\n        return board;\n    }\n\n    showMoveTargets(piece) {\n        if (this.state.isMyTurn && !this.state.inJumpChain && piece.player === this.state.player) {\n            this.setState({\n                targets: this.getMoveTargets(piece.row, piece.col),\n                pieceToMove: piece\n            });\n        }\n    }\n\n    // Returns an array of cells\n    getMoveTargets(row, col) {\n        const board = this.state.board;\n        const piece = board[row][col].piece;\n\n        let res = [];\n\n        this.getPossibleTargets(piece).forEach(adj => {\n            if (adj.hasPiece()) {\n                const jumpTarget = this.canJumpOver(piece, adj.piece);\n                if (jumpTarget !== null) {\n                    res.push(jumpTarget);\n                }\n            } else {\n                if (this.canMoveTo(piece, adj)) {\n                    res.push(adj);\n                }\n            }\n        });\n        return res;\n    }\n\n    canMoveTo(piece, cell) {\n        if (!piece.isKing) {\n            // Player 1 cannot move down\n            // Player 2 cannot move up\n            if ((piece.player === 1 && cell.row > piece.row) || (piece.player === 2 && cell.row < piece.row)) {\n                return false;\n            }\n        }\n        if (!cell.hasPiece()) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Returns the target cell if the pieceToJump can be jumped, otherwise returns false.\n     *\n     * @param BoardPiece pieceToMove\n     * @param BoardPiece pieceToJump\n     */\n    canJumpOver(pieceToMove, pieceToJump) {\n        if (pieceToMove.player === pieceToJump.player) {\n            return false;\n        }\n        const board = this.state.board;\n        const row = 2 * (pieceToJump.row - pieceToMove.row) + pieceToMove.row;\n        const col = 2 * (pieceToJump.col - pieceToMove.col) + pieceToMove.col;\n\n        if (row >= 0 && col >= 0 && row < 8 && col < 8 && !board[row][col].hasPiece()) {\n            return board[row][col];\n        }\n\n        return false;\n    }\n\n    handleCellClick(cell) {\n        if (!this.state.targets.includes(cell)) {\n            return;\n        }\n        this.socket.emit('move', cell, this.state.pieceToMove);\n        if (!this.movePiece(this.state.pieceToMove, cell)) {\n            this.endTurn();\n        }\n    }\n\n    /**\n     * Moves a piece on the board.\n     *\n     * @param BoardPiece piece\n     * @param BoardCell cell\n     *\n     */\n    movePiece(piece, cell) {\n        let board = this.state.board;\n        let isJump = false;\n\n        // Handle the case where we are jumping a piece\n        if (Math.abs(piece.row - cell.row) === 2) {\n            const jumpRow = (piece.row + cell.row) / 2;\n            const jumpCol = (piece.col + cell.col) / 2;\n            board[jumpRow][jumpCol].piece = null;\n            if (piece.player === this.state.player) {\n                isJump = true;\n            }\n        }\n\n        board[piece.row][piece.col].piece = null;\n        piece.row = cell.row;\n        piece.col = cell.col;\n        if (!piece.isKing && (piece.row === 0 || piece.row === 7)) {\n            piece.isKing = true;\n        }\n        board[cell.row][cell.col].piece = piece;\n        this.setState({\n            targets: [],\n            pieceToMove: null,\n            board: board,\n            inJumpChain: false\n        });\n\n        this.socket.emit('boardConfig', board);\n\n        if (isJump) {\n            //Check if another piece can be jumped\n            let targets = [];\n            this.getPossibleTargets(piece).forEach(adj => {\n                if (adj.hasPiece()) {\n                    let target = this.canJumpOver(piece, adj.piece);\n                    if (target) {\n                        targets.push(target);\n                    }\n                }\n            });\n            if (targets.length > 0) {\n                this.setState({\n                    inJumpChain: true,\n                    pieceToMove: piece,\n                    targets: targets\n                });\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    endTurn() {\n        this.socket.emit('endturn');\n        this.setState({\n            isMyTurn: false\n        });\n    }\n\n    /**\n     * Returns an array of diagnolly adjacent cells.\n     *\n     * @param BoardPiece piece\n     */\n    getPossibleTargets(piece) {\n        let adj = [];\n        const directions = [\n            [1, 1],\n            [-1, 1],\n            [1, -1],\n            [-1, -1]\n        ];\n\n        directions.forEach(dir => {\n            // For non-king pieces: player 1 cannot move down, and player 2 cannot move up\n            if (!piece.isKing && ((piece.player === 1 && dir[0] === 1) || (piece.player === 2 && dir[0] === -1))) {\n                return;\n            }\n            const row = piece.row + dir[0];\n            const col = piece.col + dir[1];\n            if (row >= 0 && col >= 0 && row < 8 && col < 8) {\n                adj.push(this.state.board[row][col]);\n            }\n        });\n\n        return adj;\n    }\n\n    render() {\n        return (\n            <div className='game'>\n                <div className={`board ${this.state.player === 2 ? 'player2' : ''}`}>\n                    {!this.state.hasBothPlayers && <InvitePlayer />}\n                    {this.state.board.map((row, rowId) => (\n                        <div className='row' key={rowId}>\n                            {row.map((cell, colId) => (\n                                <div\n                                    className={`cell ${cell.canHavePiece() ? 'moveable' : ''}`}\n                                    key={colId}\n                                    onClick={() => this.handleCellClick(cell)}\n                                >\n                                    {cell.hasPiece() && (\n                                        <div\n                                            className={`piece player${cell.piece.player}`}\n                                            onClick={() => this.showMoveTargets(cell.piece, rowId, colId)}\n                                        >\n                                            {cell.piece.isKing && <Icon icon={chessQueen} className='king' />}\n                                        </div>\n                                    )}\n                                    {this.state.targets.includes(cell) && <div className='target-marker'></div>}\n                                </div>\n                            ))}\n                        </div>\n                    ))}\n                </div>\n                <TurnVisual whoseTurn={this.state.isMyTurn ? this.state.player : (this.state.player === 1 ? 2 : 1)}/>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport \"./GameGenerator.scss\";\n\n\nexport default class GameGenerator extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            gameURL: null\n        };\n    }\n\n    createGame() {\n        const url = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n\n        this.setState({\n            gameURL: url\n        });\n\n        window.open(process.env.REACT_APP_BASE_URL + \"/game/\" + url, \"_self\");\n    }\n\n\n    render() {\n        return (\n            <div className=\"gameGenerator\">\n                <Button onClick={() => this.createGame()}>Click to start a game!</Button> \n            </div>\n        );\n    }\n}","import React from 'react';\n\nimport Board from './components/Board/Board';\nimport GameGenerator from './components/GameGenerator/GameGenerator';\n\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport './App.scss';\nimport TurnVisual from './components/TurnVisual/TurnVisual';\n\nconst App = () => {\n    return (\n        <Router basename={process.env.REACT_APP_BASE_URL}>\n            <Route path='/' exact component={GameGenerator} />\n            <Route path='/game/:id' exact component={Board} />\n            <Route path='/test' exact component={TurnVisual} />\n            \n        </Router>\n    );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}